# Environment configuration for the application

# Strong secret used to sign JWT tokens. Provide at least 32 random characters
# and rotate periodically.
JWT_SECRET=please-change-me-to-a-strong-random-secret-at-least-32-chars

# Strong secret used to encrypt MFA TOTP secrets. Provide at least 32 characters
# and rotate this key periodically to limit blast radius if compromised.
TOTP_ENCRYPTION_KEY=changemechangemechangemechangeme

# PostgreSQL connection string used by Prisma and the API.
DATABASE_URL=postgresql://user:pass@localhost:5432/awmsom

# Redis settings shared by cache, queues and rate limiting.
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=

# Audit log encryption key and retention policy (in days).
# Provide a base64-encoded 32-byte key (AES-256).
AUDIT_LOG_ENCRYPTION_KEY=MDEyMzQ1Njc4OWFiY2RlZjAxMjM0NTY3ODlhYmNkZWY=
AUDIT_LOG_RETENTION_DAYS=365

# Optional tunables with safe defaults.
RBAC_EXCESSIVE_PERMISSION_THRESHOLD=20
KPIS_CACHE_TTL=300
TRACE_CACHE_TTL=120

# OAuth provider configuration (example: default provider oidc-demo).
# Enable the OAuth flow and point to your identity provider endpoints.
OAUTH_FLOW_ENABLED=true
OAUTH_OIDC_DEMO_AUTHORIZE_URL=https://oidc-demo.example.com/authorize
OAUTH_OIDC_DEMO_SECRET=please-change-this-oidc-demo-secret
OAUTH_OIDC_DEMO_AUDIENCE=awmsom-api
